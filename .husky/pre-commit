#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Run comprehensive test suite before commit
echo "🔍 Running pre-commit checks..."

# 1. TypeScript type checking
echo "🔧 Checking TypeScript types..."
npm run test:types || exit 1

# 2. UI tests for layout and responsiveness
echo "🎨 Running UI tests..."
npm run test:ui || exit 1

# 3. Build tests for all configurations
echo "🏗️ Testing builds..."
npm run test:build || exit 1

# 4. Performance and memory checks
echo "⚡ Running performance checks..."
npm run test:performance || exit 1

# 5. Comprehensive regression tests
echo "🧪 Running comprehensive tests..."
npm run test:comprehensive || exit 1

echo "✅ All pre-commit checks passed!"